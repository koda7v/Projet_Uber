<app-page-title title="Editer un restaurant" breadcrumb="true"></app-page-title>

<div class="page-content">

    <mat-card class="form-card">
        <mat-card-content>
            <form class="form" [formGroup]="editFormRestaurant">

                <h3>Restaurant</h3>
                <!-- Nom -->
                <mat-form-field>
                    <mat-label>Nom du restaurant</mat-label>
                    <input type="text" matInput formControlName="nom" />
                    <mat-error *ngIf="editFormRestaurant.controls.nom.hasError('required')">
                        Le champ nom est requis.
                    </mat-error>
                </mat-form-field>

                <!-- Description -->
                <mat-form-field>
                    <mat-label>Description du restaurant</mat-label>
                    <input type="text" matInput formControlName="description" />
                    <mat-error *ngIf="editFormRestaurant.controls.description.hasError('required')">
                        Le champ description est requis.
                    </mat-error>
                </mat-form-field>
            </form>
            <form class="form" [formGroup]="editFormPhoto">
                <h3>Photo</h3>
                <mat-form-field>
                    <mat-label>Nom de la photo</mat-label>
                    <input type="text" matInput formControlName="name" />
                    <mat-error *ngIf="editFormPhoto.controls.name.hasError('required')">
                        Le champ nom est requis.
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Photo</mat-label>
                    <ngx-mat-file-input matInput formControlName="photo" placeholder="Choissiser votre photo"
                        (change)="handleUpload($event)">
                    </ngx-mat-file-input>
                    <mat-icon matSuffix>folder</mat-icon>
                    <mat-error *ngIf="editFormPhoto.controls.photo.hasError('required')">
                        Choissiser une photo
                    </mat-error>
                    <mat-error *ngIf="editFormPhoto.controls.photo.hasError('maxContentSize')">
                        The total size must not exceed 40ko
                    </mat-error>
                </mat-form-field>

                <!-- Description -->
                <mat-form-field>
                    <mat-label>Description de la photo</mat-label>
                    <input type="text" matInput formControlName="commentaire" />
                    <mat-error *ngIf="editFormPhoto.controls.commentaire.hasError('required')">
                        Le champ description est requis.
                    </mat-error>
                </mat-form-field>
            </form>
        </mat-card-content>

        <!-- Actions -->
        <mat-card-actions>
            <button mat-flat-button color="primary" (click)="updateRestaurant()">Enregistrer les
                modifications</button>
            <button mat-flat-button color="primary" routerLink="/gestionRestaurant">Annuler</button>
        </mat-card-actions>
    </mat-card>

</div>